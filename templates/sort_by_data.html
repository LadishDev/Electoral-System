<!DOCTYPE html>
<html>
    <form method="POST" action="/sortbydatapage">
<head>
    <title>Election Results</title>
    <link rel="stylesheet" type="text/css" href="/static/style.css" />
</head>
<body>
    <button type="submit" name="back">Back</button>
    {% if data %}
        <h1>{{ data[0]['page_title'] }}</h1>
        <h2>Via {{ data[0]['page_description'] }}</h2>
        <br><br>

        {% for geo_name, parties in data[1].items() %}
            <h3>{{ geo_name }}</h3>
            <table>
                <thead>
                    <tr>
                        <th>Party</th>
                        <th>Votes</th>
                        <th>Seats Won</th>
                        <th>Percentage of Seats</th>
                        <th>Percentage of Votes</th>
                        <th>Difference in Percentages</th>
                    </tr>
                </thead>
                <tbody>
                    {% for party, result in parties.items() %}
                        <tr>
                            <td>{{ party }}</td>
                            <td>{{ result['votes'] }}</td>
                            <td>{{ result['seats'] }}</td>
                            <td>{{ result['percentage_seats'] }}</td>
                            <td>{{ result['percentage_votes'] }}</td>
                            <td>{{ result['difference_in_seats_votes'] }}</td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        {% endfor %}
    {% else %}
        <p>No data available.</p>
    {% endif %}
</body>
</html>